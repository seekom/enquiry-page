function CrossDomainMessageHandler(){}function iBexFrame(){}String.prototype.trim=function(){return this.replace(/^\s*/,"").replace(/\s*$/,"")};CrossDomainMessageHandler.prototype.getCookie=function(a){var b=document.cookie.split(";");for(var c=0;c<b.length;c++){var d=b[c].trim().split("=");if(d[0]==a.trim())return unescape(d[1])}return""};CrossDomainMessageHandler.prototype.ReceiveMessage=function(a){var b=this.getCookie(a);if(b!=""){var c=new Date;c.setSeconds(c.getSeconds()-100);document.cookie=a+"=;path=/;expires="+c.toUTCString()+";";return b}return""};iBexFrame.SetHeight=function(a,b){var c=new CrossDomainMessageHandler;fh=parseInt(c.ReceiveMessage("SeekomContentHeight"));if(!isNaN(fh)&&fh>0){a.scrolling="no";a.height=fh}a.style.display="block";if(b==null||b===true)parent.scrollTo(0,0)}
var iBexEnquiryFrameController={getURLParam:function(key){"use strict";if(typeof key==='undefined'){var param=window.location.href.indexOf('?');return param<0?'':window.location.href.substr(param);}
else{key=key.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regexS="[\\?&]"+key+"=([^&#]*)",regex=new RegExp(regexS),results=regex.exec(window.location.href);return(typeof results==='undefined'||results.length===0)?'':results[1];}},isSafariBrowser:function(){"use strict";var isSafari=(navigator.userAgent.indexOf("Safari")>-1),isChrome=(navigator.userAgent.indexOf("Chrome")>-1);if(isChrome&&isSafari){isSafari=false;}
return isSafari;},run:function(enquiryFrameId){"use strict";var queryString=this.getURLParam(),bookURL;if(queryString.length>0&&this.getURLParam('op').length>0){bookURL='http://ibex.seekom.com/accommodation/Enquiry.php'+queryString;}
else{bookURL='http://ibex.seekom.com/accommodation/Enquiry.php?reset=true&op='+ibOperatorID+'&pid='+ibPropID;}
bookURL+='&hostma='+window.escape(ibMsgAgentURL);enquiryFrameId=(enquiryFrameId.length===0)?"enquiryPage":enquiryFrameId;if(this.isSafariBrowser()&&this.getURLParam('redirect').length===0){var safariFixURL='http://ibex.seekom.com/accommodation/distributions/safari_cookie_fix.php',redirectUrl=encodeURIComponent(location.href);window.location=safariFixURL+'?url='+redirectUrl;}
document.getElementById(enquiryFrameId).src=bookURL;}};